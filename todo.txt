----------------------------------------------------------------------------------------------------------------
    Refactoring
----------------------------------------------------------------------------------------------------------------
[x] Avoid explicit Rebuild/Non Rebuild and just batch voxel changes & rebuild affected chunks once per frame

[ ] Use TryGet-Pattern instead of nullable return values
[ ] Simplify IBlockType?
    [ ] Should we even provide access to Chunk? Or just go always through World?

[ ] Consistent naming for localPos, globalPos etc!!
    -> Convention should be: localChunkPos, globalChunkPos, localVoxelPos, globalVoxelPos


[ ] Reverse implementations for overloads with Vector vs (x,y,z) where unnecessary vector is created

[ ] Refactor Voxel Mesh Building (e.g. DoorBlockType, WedgeBlockType)
    -> VoxelMeshBuilder Class
    -> Add vertices, uvs
    -> Add triangles, quads
    -> Rotate, Translate
    -> Build & add to chunk

[ ] Force specifying lookDir & placementDir on SetVoxel? All the HasValue checks are annoying

----------------------------------------------------------------------------------------------------------------
    Graphics / Rendering
----------------------------------------------------------------------------------------------------------------

[x] Voxels have shadow "halo" on top of them -> it was a regular shadow from the camera light being too low
[x] Center texel correction causes seams between voxels / half-pixels at the border of voxels
[ ] Currently using SimpleLit for transparent voxels -> Fine or need to adapt voxel shader for transparency?
[ ] Water should be less translucent the deeper it goes
[ ] Bump Mapping?

[ ] Flood Fill Lighting
    [x] Basic Lighting
    [x] Smoother Light Attenuation -> switched to float for lightmap channels
    [x] Some corners / voxel sides not lit properly 
        -> "top most" solid voxel needs to have light value too, otherwise voxels at the edge towards solid voxel have light color 0
    [x] Recalculating light map on removed solid voxel
    [x] Still some voxels not lit correctly near chunk borders 
        -> Due to lightmap not creating new chunks if they dont exist yet, which caused light values to get lost
    [x] Removing torch doesn't restore original lighting before it was placed
        -> "void" left by removing light wasnt being refilled by existing light nodes
    [x] Lights don't propagate properly across chunk borders anymore?!
        -> Was due to improper multithreading during light propagation
    [x] Improper color attenuation when removing voxels
        -> bug in UpdateOnRemovedSolidVoxel -> only red channel was propagated correctly which excacerbated this effect
    [x] Removing voxels above a light source causes dark spots until a adjacent voxel (on the xz plane) is UpdateOnRemovedSolidVoxel  
        -> Was due to improper sampling of light map for vertices, sampling directly on vertexpos+normal (instead of at the center of the face+normal)         
    [x] Lights are not updated correctly across vertical chunk borders
        -> Chunk's vertex light values were not updated if light value at neighboring voxel was updated
    [x] Vertices along the diagonals around a light source are brighter
        -> Solved with smooth lighting model    
    [x] Recalculating light map on added solid voxel
        -> Removed light at position of added solid voxel
    [ ] Ladder is not lit correctly, e.g. when building a vertical tunnel with a ladder and adding a torch at the bottom and/or top
    [ ] Wedge causes lighting problems: set wedge, then light nearby, some surrounding voxels are then too dark
        -> then when removing wedge and placing it again, it looks fine

[ ] Flood Fill sunlight
    -> https://web.archive.org/web/20201112022602/https://www.seedofandromeda.com/blogs/30-fast-flood-fill-lighting-in-a-blocky-voxel-game-pt-2

[ ] Light Filters, e.g. stained glass?     

[ ] Dynamic Lighting 
    [x] Lighting is different between chunks / no smooth lighting transition between chunks
        -> Fixed bug in voxel shader where distance voxels are lit by hand held torch
        -> This was because light mapping was being applied for every light, not just once, regardless of light distance
    [ ] Directional sunlight leaves sides facing away from the side completely dark
    [ ] Lights go through gaps between voxels and cast "light stripes"
    [ ] Ambient Occlusion?
        -> https://web.archive.org/web/20120921194612/http://codeflow.org/entries/2010/dec/09/minecraft-like-rendering-experiments-in-opengl-4/
        -> https://0fps.net/2013/07/03/ambient-occlusion-for-minecraft-like-worlds/

[ ] Chunk occlusion culling?
    https://tomcc.github.io/2014/08/31/visibility-1.html

----------------------------------------------------------------------------------------------------------------
VoxelWorld
----------------------------------------------------------------------------------------------------------------

[x] Chunks
[x] Texture Atlas
[x] Separate game object per chunk for transparent voxels
[x] Add/Remove voxels
[x] Set multiple voxels in sphere shape
[x] WorldGen.GetUVsForTile: Pregenerate UVs once for all tiles
[x] Custom game objects as part of voxel infrastructure
    -> Voxels with interaction, special effects etc.
[x] Multithreaded chunk building
[x] Holes in voxel world when destroying voxels on chunk borders
[x] Custom Meshes as part of voxel infrastructure
[x] Allow "Solid" flag to be set for individual faces on voxels
[x] Get VoxelInfo from config file (solid, tileXY etc.) -> JSON config

[ ] Greedy Meshing
    [ ] Check https://gist.github.com/Vercidium/a3002bd083cce2bc854c9ff8f0118d33
    [ ] Generate Texture Array from Texture Atlas (instead of one flat texture)
    [ ] Assign UVs to greedy meshes according to their voxel size (e.g. 3x3 voxels -> uv 0,0-3,3)
        -> with texture repeat wrapping, this will tile the voxel texture onto the greedy mesh
    [ ] What about the light map? We need different light values across a greedy mesh
        [ ] Store light map for mesh in 2d array & pass to (fragment?) shader?
        [ ] Or only merge if they have the same light value?

[ ] Custom models as custom voxel mesh (e.g. stairs)

[ ] Voxel Sprites

[ ] Voxel Prefabs (e.g. village houses, tents etc.)

[ ] Allow for arbitrary rotations of custom mesh voxels (not just on y axis)

[ ] Refactor ChunkBuilder
    [ ] Reserve lists used for voxel building to avoid internal re-copying?

[ ] Water simulation

[ ] Voxel Property: Collideable (e.g. Water) -> better word than collideable?

[ ] Voxel Overlay Animation, e.g. breaking animation

----------------------------------------------------------------------------------------------------------------
World Gen
----------------------------------------------------------------------------------------------------------------

[ ] World Seed -> Deterministic world gen based on seed + position

[ ] Infinite World Gen
    -> Generate world when moving towards empty chunks & unload chunks behind player

[ ] Serialization / Deserialization

[x] Simple cave generator based on cellular automata

[ ] Dungeon generator
    [ ] Simple rooms connected by corridors

[ ] Tree Generator

----------------------------------------------------------------------------------------------------------------
Items / Blocks
----------------------------------------------------------------------------------------------------------------

[ ] Ladder
    [ ] Improved climbing -> not just disabling gravity but redirecting any movement towards the ladder upwards/downwards

[ ] Door
    [x] Need BlockTypes Door and something generic like Placeholder Just to make sure the second block is not empty
        Then the actual Door block will handle the mesh for upper and lower half
    [x] Extend IBlockType interface to handle player interaction
    [x] Extend PlayerController to allow block interaction
    [x] FIX: Custom Collider overlaps with chunk mesh collider -> put custom colliders on separate layer
    [ ] Open/Close Sound

[ ] Quarter Wedge

[x] Torch
    [x] Integrate torches into chunk infrastructure
    [x] Torch can be placed on walls
    [ ] Don't allow placing torches on movable blocks like doors
    [ ] Torch base object not affected by torch light
    [ ] Torch particles should always flow towards global up, regardless of torch rotation
    [ ] Remove torch if block it is attached to is removed
        -> Extend IBlockType interface with method if neighboring voxel is changed

----------------------------------------------------------------------------------------------------------------
NPCs
----------------------------------------------------------------------------------------------------------------

[ ] Blob
    [x] Randomly moving around voxel world
    [ ] Correct jumping on levels above or below blob -> add rigidbody & jump via impulse

----------------------------------------------------------------------------------------------------------------
    Item / Inventory system
----------------------------------------------------------------------------------------------------------------

[ ] Item Base Class?
[ ] Item Containers

----------------------------------------------------------------------------------------------------------------
Player
----------------------------------------------------------------------------------------------------------------

[x] Place/Remove Block player is looking at
[x] Ability to hold items
[x] Avoid clipping of held item with other objects -> Stack cameras
[x] Player gets stuck in voxel when building voxel below himself
[x] Attach player held item by setting it as child of player camera + offset

[ ] Jumping against a ceiling doesn't reset upwards force -> player floats at ceiling until gravity pulls him down again

[ ] Handle Voxel Touching separately for voxels with custom colliders? Necessary?

[ ] More user friendly block placing
    -> Live block preview
    -> Rotateable

[ ] JUMPING SUCKS - Ground detection doesnt always work (especially on edges, inclines etc)
    -> Use sphere casting instead of raycasting for ground detection?

[x] Unequipped item after switching item in action bar can be left in world if switching really fast
    (ie press 1 and 2 at the same time)
    -> held item wasn't removed when selecting the already held item again

[ ] Item Container as Player Inventory

[ ] Held Item Walking Animation

----------------------------------------------------------------------------------------------------------------
Misc
----------------------------------------------------------------------------------------------------------------

[ ] Day/Night System
    [x] Gradient on scene skybox
    [x] Gradient on main light & intensity
    [ ] Sun rise/set
    [ ] Additional point light for sun to cast correct shadows on sunrise / sunset
    [ ] Moon
    [ ] Stars

[ ] Weather System  
    [ ] Clouds
    [ ] Rain
    [ ] Snow
    [ ] Lightning & Thunder

----------------------------------------------------------------------------------------------------------------
    Optimization
----------------------------------------------------------------------------------------------------------------

[ ] Optimize mesh generation to merge adjoining voxel faces with same Texture
    -> Does that work with texture atlas UVs?

[x] Player obj w/ FPS Camera Controller
